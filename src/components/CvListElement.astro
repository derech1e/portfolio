---
interface Props {
    title: string;
    subTitle: string;
    startDate: Date;
    endDate: Date;
}

const {
    title,
    subTitle,
    startDate,
    endDate,
}: Props = Astro.props;

const formattedStartDate = startDate.toLocaleDateString('en-US', {year: "numeric", month: "short"});
const formattedEndDate = endDate.toLocaleDateString('en-US', {year: "numeric", month: "short"});
const dateDiff = endDate.getFullYear() - startDate.getFullYear();
const dateDiffString = dateDiff == 0 ? "" : ` · ${dateDiff} ${dateDiff != 1 ? " years": " year"}`;
---

<li>
    <div />
    <h2>{title}</h2>
    <p>{formattedStartDate} {dateDiff != 0 && ` – ${formattedEndDate}`} {dateDiffString}</p>
    <p>{subTitle}</p>
</li>

<style>
    h2 {
        @apply text-2xl text-white font-semibold;
    }

    li {
        @apply pl-5 border-l-2 relative border-amber-300 pb-8;
    }

    li > div {
        @apply border-8 border-amber-500 rounded-full absolute -left-[9px] top-4;
    }
</style>